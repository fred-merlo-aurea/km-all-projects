

<table align="center" width="100%" border="0" cellpadding="5" cellspacing="5" style="border: solid 1px #5783BD;">
    <tr style="background-color: #5783BD;">
        <td style="padding: 5px; font-size: 20px; color: #ffffff; font-weight: bold" align="center">
          Open Activity Filter
        </td>
    </tr>
    <tr>
        <td></td>
    </tr>
    <tr style="background-color: #EBEBEB" class="OpenSelection">
        <td style="padding-top:10px;">
            <label style="font-weight:bolder;">Open Criteria</label>
            <input id="OpenedCtr" />
            @*@(Html.Kendo().DropDownList()
                              .Name("OpenedCtr")
                              .DataSource(d => d.Read(r => r.Action("GetOpenActivityDropDown", "Filter")))
                              .DataTextField("Text")
                              .DataValueField("Value")
                              .Events(e =>
                              {
                                  e.Change("onOpenedCtrDrpChange");
                              })
            )*@
        </td>
    </tr>
    <tr class="NoOpensSelected">
        <td>
            <table>
                <tr>
                    <td>
                        <input type="radio" name="OpenCriteriaSearch" id="OpenedSearchAll" class="k-radio" disabled>
                        <label class="k-radio-label" for="OpenedSearchAll">Search All</label>
                    </td>
                    <td>
                        <input type="radio" name="OpenCriteriaSearch" id="OpenedSearchSelected" class="k-radio"  checked="checked">
                        <label class="k-radio-label" for="OpenedSearchSelected">Search Selected Products</label>
                    </td>
                </tr>
                <tr>
                    <td>
                        <label>
                            Open Date
                        </label>
                        <input id="OpenCtr_OpenedDate" />
                        @*@(Html.Kendo().DropDownList()
                          .Name("OpenCtr_OpenedDate")
                          .DataSource(d => d.Read(r => r.Action("GetDateFieldDropDown", "Filter")))
                          .DataTextField("Text")
                          .DataValueField("Value")
                          .Events(e =>
                          {
                              e.Change("onOpenCtrOpenDateDrpChange");
                          })
                        )*@
                    </td>
                    <td>
                        <div id="OpenCtr_OpenedDate_DateRangeDiv" class="displayNone">
                            @Html.Kendo().TextBox().Name("OpenCtr_OpenedDate_DateRangeFrom")
                            <input type="image" src="~/Images/icon-calendar.gif" onclick="openCustomFilter('OpenCtr_OpenedDate_DateRangeFrom')" />
                            <span>To</span>
                            @Html.Kendo().TextBox().Name("OpenCtr_OpenedDate_DateRangeTo")
                            <input type="image" src="~/Images/icon-calendar.gif" onclick="openCustomFilter('OpenCtr_OpenedDate_DateRangeTo')" />
                        </div>
                        <div id="OpenCtr_OpenedDate_LastXDaysDiv" class="displayNone">
                            @(Html.Kendo().DropDownList()
                              .Name("OpenCtr_OpenedDate_LastXDays")
                              .DataSource(d => d.Read(r => r.Action("GetNoOfDaysDropDown", "Filter")))
                              .DataTextField("Text")
                              .DataValueField("Value")
                              .HtmlAttributes(new { id = "OpenCtr_OpenedDate_LastXDays" })
                            )
                        </div>
                        <div id="OpenCtr_OpenedDate_YearDiv" class="displayNone">
                            <input type="number" id="OpenCtr_OpenedDate_YearFrom" />
                            @*@Html.Kendo().NumericTextBox().Name("OpenCtr_OpenedDate_YearFrom")*@
                            <span>To</span>
                            <input type="number" id="OpenCtr_OpenedDate_YearTo" />
                            @*@Html.Kendo().NumericTextBox().Name("OpenCtr_OpenedDate_YearTo")*@
                        </div>


                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr class="OpenPlusSelected">
        <td>
            <table>

                <tr>
                    <td>
                        <label>BlastID</label>
                        @Html.Kendo().TextBox().Name("OpenCtr_BlastID").HtmlAttributes(new { placeholder = "single,comma delimited" })
                    </td>
                    <td>
                        <label>Campaigns</label>
                        @(Html.Kendo().MultiSelect()
                              .Name("OpenCtr_Campaigns")
                              .DataSource(d => d.Read(r => r.Action("GetCampaign", "Filter")))
                              .DataTextField("Text")
                              .DataValueField("Value")
                              .TagMode(TagMode.Single)
                              .HtmlAttributes(new { id = "OpenCtr_Campaigns"})
                        )

                    </td>
                </tr>
                <tr>
                    <td colspan="2">
                        <label>Email Subject</label>
                        @Html.Kendo().TextBox().Name("OpenCtr_EmailSubject").HtmlAttributes(new { placeholder = "exact match,partial match,keyword", style = "width:70%" })
                    </td>

                </tr>
                <tr>
                    <td>
                        <label>
                            Email Sent Date
                        </label>
                        <input id="OpenCtr_EmailSentDate" />
                        @*@(Html.Kendo().DropDownList()
                          .Name("OpenCtr_EmailSentDate")
                          .DataSource(d => d.Read(r => r.Action("GetDateFieldDropDown", "Filter")))
                          .DataTextField("Text")
                          .DataValueField("Value")
                          .Events(e =>
                          {
                              e.Change("onOpenCtrEmailSentDateDrpChange");
                          })
                        )*@
                    </td>
                    <td>
                        <div id="OpenCtr_EmailSentDate_DateRangeDiv" class="displayNone">
                            @Html.Kendo().TextBox().Name("OpenCtr_EmailSentDate_DateRangeFrom")
                            <input type="image" src="~/Images/icon-calendar.gif" onclick="openCustomFilter('OpenCtr_EmailSentDate_DateRangeFrom')" />
                            <span>To</span>
                            @Html.Kendo().TextBox().Name("OpenCtr_EmailSentDate_DateRangeTo")
                            <input type="image" src="~/Images/icon-calendar.gif" onclick="openCustomFilter('OpenCtr_EmailSentDate_DateRangeTo')" />
                        </div>
                        <div id="OpenCtr_EmailSentDate_LastXDaysDiv" class="displayNone">
                            @(Html.Kendo().DropDownList()
                              .Name("OpenCtr_EmailSentDate_LastXDays")
                              .DataSource(d => d.Read(r => r.Action("GetNoOfDaysDropDown", "Filter")))
                              .DataTextField("Text")
                              .DataValueField("Value")
                              .HtmlAttributes(new { id = "OpenCtr_EmailSentDate_LastXDays" })
                            )
                        </div>
                        <div id="OpenCtr_EmailSentDate_YearDiv" class="displayNone">
                            <input type="number" id="OpenCtr_EmailSentDate_YearFrom" />
                            @*@Html.Kendo().NumericTextBox().Name("OpenCtr_EmailSentDate_YearFrom")*@
                            <span>To</span>
                            <input type="number" id="OpenCtr_EmailSentDate_YearTo" />
                            @*@Html.Kendo().NumericTextBox().Name("OpenCtr_EmailSentDate_YearTo")*@
                        </div>


                    </td>
                </tr>
            </table>
        </td>
    </tr>
    
    <tr>
        <td align="center" style="padding-bottom: 10px;">
            <input type="button" name="btnSelectCirculationFilter" onclick="SelectCloseActivityFilter('Open')" value="Select/Close" class="filterButton">
            <input type="button" name="btnResetCirculationFilter" onclick="ResetCloseActivityFilter('Open')" value="Reset" class="filterButton">
        </td>
    </tr>
</table>



<script>
    $(document).ready(function () {

        $(".NoOpensSelected").hide();
        $(".OpenPlusSelected").hide();
        $("#OpenCtr_OpenedDate_DateRangeDiv").removeClass("displayNone").addClass("displayInline");
        $("#OpenCtr_EmailSentDate_DateRangeDiv").removeClass("displayNone").addClass("displayInline");

        
        $("#OpenedCtr").kendoDropDownList({
            dataSource: {
                transport: {
                    read: {
                        url: "/uas.web/Filter/GetOpenActivityDropDown",
                        dataType: "json"
                    }
                }
            },
            dataTextField: "Text",
            dataValueField: "Value",
            change: function (e) {
                onOpenedCtrDrpChange(this,e);

            }
        });

        $("#OpenCtr_OpenedDate").kendoDropDownList({
            dataSource: {
                transport: {
                    read: {
                        url: "/uas.web/Filter/GetDateFieldDropDown",
                        dataType: "json"
                    }
                }
            },
            dataTextField: "Text",
            dataValueField: "Value",
            change: function (e) {
                onOpenCtrOpenDateDrpChange(this, e);

            }
        });

        $("#OpenCtr_EmailSentDate").kendoDropDownList({
            dataSource: {
                transport: {
                    read: {
                        url: "/uas.web/Filter/GetDateFieldDropDown",
                        dataType: "json"
                    }
                }
            },
            dataTextField: "Text",
            dataValueField: "Value",
            change: function (e) {
                onOpenCtrEmailSentDateDrpChange(this, e);
                
            }
        });


    });

    function onOpenedCtrDrpChange(ele,e) {
        var dataItem = ele.dataItem(e.item);
        showhideFilterPanel(dataItem.Value, 'Open');
    }
    function onOpenCtrOpenDateDrpChange(ele,e) {
        var dataItem = ele.dataItem(e.item);
        changeVisibility('OpenCtr_OpenedDate', dataItem.Value);
    }
    function onOpenCtrEmailSentDateDrpChange(ele,e) {
        var dataItem = ele.dataItem(e.item);
        changeVisibility('OpenCtr_EmailSentDate', dataItem.Value);
    }
   

    
    
    
    
</script>