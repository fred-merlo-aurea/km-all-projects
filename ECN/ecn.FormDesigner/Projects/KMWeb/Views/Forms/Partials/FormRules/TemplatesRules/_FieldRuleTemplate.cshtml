@using KMEnums
@using KMModels
@using KMModels.PostModels

<script id="FieldRules-template" type="text/x-kendo-template">    
     @{string nameRadio = GetName<RuleModel>("Rules[#=RuleNum#]", x => x.Show);}
       
     
      <div class="RuleRowBox rulesbox" id ="Rules_#=RuleNum#__RuleRowBox">
    
                      
                        <div class="formbox">
                          <div class="formitem formiteminline" >
                            <input type="hidden" name = "Rules.Index" value = "#=RuleNum#" />
                            @(Html.Hidden(GetName<RuleModel>("Rules[#=RuleNum#]", x => x.Order), 0 ))     
                            @(Html.Hidden(GetName<RuleModel>("Rules[#=RuleNum#]", x => x.Id), 0 ))     
                            @(Html.Hidden(GetName<RuleModel>("Rules[#=RuleNum#]", x => x.Type), RuleTypes.Field))
                            <label>Field</label>  
                            @Html.Kendo().DropDownList().Name(GetName<RuleModel>("Rules[#=RuleNum#]", x => x.ControlId)).BindTo(ViewContext.Controller.ViewBag.VisibleControls).DataTextField("FieldLabel").DataValueField("Id").ToClientTemplate()
                            </div>
                          <div class="formitem  formiteminline" >                               
                            @Html.Kendo().RadioButton().Label("Show").Value(true).Name("Rules_#=RuleNum#__Show").Checked(false).HtmlAttributes(new{@name = nameRadio}).ToClientTemplate()    
                          </div>
                          <div class="formitem formiteminline">        
                            @Html.Kendo().RadioButton().Label("Hide").Value(false).Name("Rules_#=RuleNum#__Hide").Checked(true).HtmlAttributes(new{@name = nameRadio}).ToClientTemplate()
                          </div>
                        </div>
                                          
              <div class="rulesorderbox  float-right"> <span>Rule Order: </span>

    
    @(Html.Kendo().Button().Content("Up <span class=\"k-icon k-i-arrow-60-up\"></span>").Name("Rules_#=RuleNum#__Up").HtmlAttributes(new { type = "button", @class="UpRuleOrder" }).ToClientTemplate() )
    @(Html.Kendo().Button().Content("Down <span class=\"k-icon k-i-arrow-60-down\"></span>").Name("Rules_#=RuleNum#__Down").HtmlAttributes(new { type = "button" , @class="DownRuleOrder"}).ToClientTemplate() )
    
   
    </div> <div class="rulesactionsbox  float-right"> 
                            @(Html.Kendo().Button().Content( "Copy Rule" ).Name("Rules_#=RuleNum#__CopyRule").HtmlAttributes(new { type = "button", @class="CopyRule " }).ToClientTemplate() )
                            @(Html.Kendo().Button().Content( "Delete Rule" ).Name("Rules_#=RuleNum#__DeleteRule").HtmlAttributes(new { type = "button", @class="DeleteRule " }).ToClientTemplate() ) 
                      </div>  


            <div id ="Rules_#=RuleNum#__GroupConditions">

            </div>        
            
                  </div>
    
                  
     
</script>