(function(b,a){a("kendo.sortable",["kendo.draganddrop"],b);
}(function(){var a={id:"sortable",name:"Sortable",category:"framework",depends:["draganddrop"]};
(function(b,s){var n=window.kendo,t=n.ui.Widget,r="start",f="beforeMove",p="move",m="end",h="change",g="cancel",e="sort",d="remove",c="receive",j=">*",o=-1;
function i(w,u){try{return b.contains(w,u)||w==u;
}catch(v){return false;
}}function k(u){return u.clone();
}function l(u){return u.clone().removeAttr("id").css("visibility","hidden");
}var q=t.extend({init:function(u,v){var w=this;
t.fn.init.call(w,u,v);
if(!w.options.placeholder){w.options.placeholder=l;
}if(!w.options.hint){w.options.hint=k;
}w.draggable=w._createDraggable();
},events:[r,f,p,m,h,g],options:{name:"Sortable",hint:null,placeholder:null,filter:j,holdToDrag:false,disabled:null,container:null,connectWith:null,handler:null,cursorOffset:null,axis:null,ignore:null,autoScroll:false,cursor:"auto",moveOnDragEnter:false},destroy:function(){this.draggable.destroy();
t.fn.destroy.call(this);
},_createDraggable:function(){var w=this,u=w.element,v=w.options;
return new n.ui.Draggable(u,{filter:v.filter,hint:n.isFunction(v.hint)?v.hint:b(v.hint),holdToDrag:v.holdToDrag,container:v.container?b(v.container):null,cursorOffset:v.cursorOffset,axis:v.axis,ignore:v.ignore,autoScroll:v.autoScroll,dragstart:b.proxy(w._dragstart,w),dragcancel:b.proxy(w._dragcancel,w),drag:b.proxy(w._drag,w),dragend:b.proxy(w._dragend,w)});
},_dragstart:function(x){var w=this.draggedElement=x.currentTarget,v=this.options.disabled,y=this.options.handler,u=this.options.placeholder,z=this.placeholder=n.isFunction(u)?b(u.call(this,w)):b(u);
if(v&&w.is(v)){x.preventDefault();
}else{if(y&&!b(x.initialTarget).is(y)){x.preventDefault();
}else{if(this.trigger(r,{item:w,draggableEvent:x})){x.preventDefault();
}else{w.css("display","none");
w.before(z);
this._setCursor();
}}}},_dragcancel:function(){this._cancel();
this.trigger(g,{item:this.draggedElement});
this._resetCursor();
},_drag:function(z){var y=this.draggedElement,F=this._findTarget(z),G,w={left:z.x.location,top:z.y.location},D,v={x:z.x.delta,y:z.y.delta},x,E,B,u=this.options.axis,C=this.options.moveOnDragEnter,A={item:y,list:this,draggableEvent:z};
if(u==="x"||u==="y"){this._movementByAxis(u,w,v[u],A);
return;
}if(F){G=this._getElementCenter(F.element);
D={left:Math.round(w.left-G.left),top:Math.round(w.top-G.top)};
b.extend(A,{target:F.element});
if(F.appendToBottom){this._movePlaceholder(F,null,A);
return;
}if(F.appendAfterHidden){this._movePlaceholder(F,"next",A);
}if(this._isFloating(F.element)){if(v.x<0&&(C||D.left<0)){x="prev";
}else{if(v.x>0&&(C||D.left>0)){x="next";
}}}else{if(v.y<0&&(C||D.top<0)){x="prev";
}else{if(v.y>0&&(C||D.top>0)){x="next";
}}}if(x){B=x==="prev"?jQuery.fn.prev:jQuery.fn.next;
E=B.call(F.element);
while(E.length&&!E.is(":visible")){E=B.call(E);
}if(E[0]!=this.placeholder[0]){this._movePlaceholder(F,x,A);
}}}},_dragend:function(z){var C=this.placeholder,x=this.draggedElement,y=this.indexOf(x),D=this.indexOf(C),w=this.options.connectWith,u,B,A,v;
this._resetCursor();
A={action:e,item:x,oldIndex:y,newIndex:D,draggableEvent:z};
if(D>=0){B=this.trigger(m,A);
}else{u=C.parents(w).getKendoSortable();
A.action=d;
v=b.extend({},A,{action:c,oldIndex:o,newIndex:u.indexOf(C)});
B=!(!this.trigger(m,A)&&!u.trigger(m,v));
}if(B||D===y){this._cancel();
return;
}C.replaceWith(x);
x.show();
this.draggable.dropped=true;
A={action:this.indexOf(x)!=o?e:d,item:x,oldIndex:y,newIndex:this.indexOf(x),draggableEvent:z};
this.trigger(h,A);
if(u){v=b.extend({},A,{action:c,oldIndex:o,newIndex:u.indexOf(x)});
u.trigger(h,v);
}},_findTarget:function(v){var w=this._findElementUnderCursor(v),x,u=this.options.connectWith,y;
if(b.contains(this.element[0],w)){x=this.items();
y=x.filter(w)[0]||x.has(w)[0];
return y?{element:b(y),sortable:this}:null;
}else{if(this.element[0]==w&&this._isEmpty()){return{element:this.element,sortable:this,appendToBottom:true};
}else{if(this.element[0]==w&&this._isLastHidden()){y=this.items().eq(0);
return{element:y,sortable:this,appendAfterHidden:true};
}else{if(u){return this._searchConnectedTargets(w,v);
}}}}},_findElementUnderCursor:function(v){var w=n.elementUnderCursor(v),u=v.sender;
if(i(u.hint[0],w)){u.hint.hide();
w=n.elementUnderCursor(v);
if(!w){w=n.elementUnderCursor(v);
}u.hint.show();
}return w;
},_searchConnectedTargets:function(w,v){var u=b(this.options.connectWith),A,y,z;
for(var x=0;
x<u.length;
x++){A=u.eq(x).getKendoSortable();
if(b.contains(u[x],w)){if(A){y=A.items();
z=y.filter(w)[0]||y.has(w)[0];
if(z){A.placeholder=this.placeholder;
return{element:b(z),sortable:A};
}else{return null;
}}}else{if(u[x]==w){if(A&&A._isEmpty()){return{element:u.eq(x),sortable:A,appendToBottom:true};
}else{if(this._isCursorAfterLast(A,v)){z=A.items().last();
return{element:z,sortable:A};
}}}}}},_isCursorAfterLast:function(z,w){var x=z.items().last(),u={left:w.x.location,top:w.y.location},y,v;
y=n.getOffset(x);
y.top+=x.outerHeight();
y.left+=x.outerWidth();
if(this._isFloating(x)){v=y.left-u.left;
}else{v=y.top-u.top;
}return v<0?true:false;
},_movementByAxis:function(u,v,x,y){var w=u==="x"?v.left:v.top,z=x<0?this.placeholder.prev():this.placeholder.next(),A;
if(z.length&&!z.is(":visible")){z=x<0?z.prev():z.next();
}b.extend(y,{target:z});
A=this._getElementCenter(z);
if(A){A=u==="x"?A.left:A.top;
}if(z.length&&x<0&&w-A<0){this._movePlaceholder({element:z,sortable:this},"prev",y);
}else{if(z.length&&x>0&&w-A>0){this._movePlaceholder({element:z,sortable:this},"next",y);
}}},_movePlaceholder:function(x,u,v){var w=this.placeholder;
if(!x.sortable.trigger(f,v)){if(!u){x.element.append(w);
}else{if(u==="prev"){x.element.before(w);
}else{if(u==="next"){x.element.after(w);
}}}x.sortable.trigger(p,v);
}},_setCursor:function(){var v=this.options.cursor,u;
if(v&&v!=="auto"){u=b(document.body);
this._originalCursorType=u.css("cursor");
u.css({cursor:v});
if(!this._cursorStylesheet){this._cursorStylesheet=b("<style>* { cursor: "+v+" !important; }</style>");
}this._cursorStylesheet.appendTo(u);
}},_resetCursor:function(){if(this._originalCursorType){b(document.body).css("cursor",this._originalCursorType);
this._originalCursorType=null;
this._cursorStylesheet.remove();
}},_getElementCenter:function(v){var u=v.length?n.getOffset(v):null;
if(u){u.top+=v.outerHeight()/2;
u.left+=v.outerWidth()/2;
}return u;
},_isFloating:function(u){return/left|right/.test(u.css("float"))||/inline|table-cell/.test(u.css("display"));
},_cancel:function(){this.draggedElement.show();
this.placeholder.remove();
},_items:function(){var u=this.options.filter,v;
if(u){v=this.element.find(u);
}else{v=this.element.children();
}return v;
},indexOf:function(v){var w=this._items(),x=this.placeholder,u=this.draggedElement;
if(x&&v[0]==x[0]){return w.not(u).index(v);
}else{return w.not(x).index(v);
}},items:function(){var v=this.placeholder,u=this._items();
if(v){u=u.not(v);
}return u;
},_isEmpty:function(){return !this.items().length;
},_isLastHidden:function(){return this.items().length===1&&this.items().is(":hidden");
}});
n.ui.plugin(q);
}(window.kendo.jQuery));
return window.kendo;
},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)();
}));
